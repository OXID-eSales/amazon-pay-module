window.OSCAmazonPayButtonComponent={amazonPayButton:null,payLoad:null,signature:null,init:function(e,n,t){buttonClassesApex="btn btn-highlight btn-lg w-100",buttonClassesTwig="btn btn-lg btn-primary pull-right submitButton nextStep largeButton",document.getElementsByClassName(buttonClassesApex)[0]&&(document.getElementsByClassName(buttonClassesApex)[0].parentNode.append(document.getElementById("AmazonPayWrapper")),document.getElementsByClassName(buttonClassesApex)[0].style.display="none"),document.getElementsByClassName(buttonClassesTwig)[0]&&(document.getElementsByClassName(buttonClassesTwig)[0].parentNode.prepend(document.getElementById("AmazonPayWrapper")),document.getElementsByClassName(buttonClassesTwig)[0].style.display="none"),this.amazonPayButton=e,this.payloadJSON=n,this.signature=t,this.registerEvents()},registerEvents:function(){amazonPayButton.onClick(function(){OSCAmazonPayButtonComponent.payButtonClickHandler()})},payButtonClickHandler:function(){this.forceConfirmAGB()&&!OSCAmazonPayCheckoutAGBComponent.isAgbConfirmed()||this.forceConfirmDPA()&&!OSCAmazonPayCheckoutAGBComponent.isDpaConfirmed()||this.forceConfirmSPA()&&!OSCAmazonPayCheckoutAGBComponent.isSpaConfirmed()?(this.forceConfirmAGB()||this.forceConfirmDPA()||this.forceConfirmSPA())&&document.getElementById("confirm-agb-error-container")&&(document.getElementById("confirm-agb-error-container").setAttribute("style","display:block"),document.getElementsByClassName("agbConfirmation")[0].classList.add("alert-danger")):this.amazonPayButton.initCheckout({createCheckoutSessionConfig:{payloadJSON:this.payloadJSON,signature:this.signature}})},hideErrorContainer:function(){document.getElementById("confirm-agb-error-container").setAttribute("style","display:none")},forceConfirmAGB:function(){return document.getElementById("confirm-agb-error-container").dataset.oxidAgbForceConfirm},forceConfirmDPA:function(){return document.getElementById("confirm-agb-error-container").dataset.oxidDpaForceConfirm},forceConfirmSPA:function(){return document.getElementById("confirm-agb-error-container").dataset.oxidSpaForceConfirm}},window.OSCAmazonPayCheckoutAGBComponent={init:function(){this.registerEvents()},registerEvents:function(){OSCAmazonPayButtonComponent.forceConfirmAGB()&&(document.getElementById("checkAgbTop").onclick=function(){document.getElementById("confirm-agb-error-container").classList.remove("alert-danger"),document.getElementsByClassName("agbConfirmation")[0]&&document.getElementsByClassName("agbConfirmation")[0].classList.remove("alert-danger"),OSCAmazonPayButtonComponent.hideErrorContainer(),OSCAmazonPayCheckoutAGBComponent.saveAGBConfirmInSession()}),OSCAmazonPayButtonComponent.forceConfirmDPA()&&document.getElementById("oxdownloadableproductsagreement").addEventListener("click",function(){document.getElementById("confirm-agb-error-container").classList.remove("alert-danger"),OSCAmazonPayButtonComponent.hideErrorContainer(),OSCAmazonPayCheckoutAGBComponent.saveDpaConfirmInSession()}),OSCAmazonPayButtonComponent.forceConfirmSPA()&&document.getElementById("oxserviceproductsagreement").addEventListener("click",function(){document.getElementById("confirm-agb-error-container").classList.remove("alert-danger"),OSCAmazonPayButtonComponent.hideErrorContainer(),OSCAmazonPayCheckoutAGBComponent.saveSpaConfirmInSession()})},isAgbConfirmed:function(){return document.getElementById("checkAgbTop").checked},isDpaConfirmed:function(){return document.getElementById("oxdownloadableproductsagreement").checked},isSpaConfirmed:function(){return document.getElementById("oxserviceproductsagreement").checked},saveAGBConfirmInSession(){var e=new XMLHttpRequest,n="confirm="+(this.isAgbConfirmed()?1:0);e.open("POST","/index.php?cl=amazoncheckoutajax&fnc=confirmAGB",!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.onreadystatechange=function(){4==e.readyState&&e.status},e.send(n)},saveDpaConfirmInSession(){var e=new XMLHttpRequest,n="confirm="+(this.isDpaConfirmed()?1:0);e.open("POST","/index.php?cl=amazoncheckoutajax&fnc=confirmDPA",!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.onreadystatechange=function(){4==e.readyState&&e.status},e.send(n),document.querySelector.ajax({type:"POST",url:"/index.php?cl=amazoncheckoutajax&fnc=confirmDPA",data:{confirm:this.isDpaConfirmed()?1:0}})},saveSpaConfirmInSession(){var e=new XMLHttpRequest,n="confirm="+(this.isSpaConfirmed()?1:0);e.open("POST","/index.php?cl=amazoncheckoutajax&fnc=confirmSPA",!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.onreadystatechange=function(){4==e.readyState&&e.status},e.send(n)}};